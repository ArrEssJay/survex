| > <CLIcon$Dir>.!Run

If "<System$Path>" = "" Then Error System resources cannot be found

Set CLIcon$Dir <Obey$Dir>

If "<Scrap$Dir>"="" Then Set CLIcon$ScrapDir <CLIcon$Dir>.Scrap Else Set CLIcon$ScrapDir <Scrap$Dir>.CLIcon
If "<Scrap$Dir>"<>"" Then CDir <Scrap$Dir>.CLIcon
If "<Scrap$Dir>"="" Then Set Scrap$File <CLIcon$Dir>.TempFile Else Set Scrap$File <Scrap$Dir>.CLIconTemp

|SetMacro Trash$Dir System:Trash
Set Clip$Dir <Scrap$Dir>

Set Alias$Trash If "%%*1"<>"" OR "%%0"="" Then Error 220 Syntax: *Trash |||<file spec>|MCount "%%0" ~c~r~v { |> null: }|MCopy "%%0" adfs::Pooh.$.Apps.Utils.!Trash.Trash.* a~cdf~qr~s~t~v

Set Mod$Path <CLIcon$Dir>.,<System$Path>
RMEnsure MessageTrans   0.00 RMLoad Mod:Modules.MsgTrans
RMEnsure CLIconUtils    0.00 RMLoad Mod:Modules.CLIconUtil
RMEnsure CLIconUtils    0.00
RMEnsure WindowManager  2.00 Error 0 Window Manager 2.00 or later required
Unset Mod$Path

|RMEnsure ARMBasicEditor 0.00 RMLoad System:Modules.BasicEdit
|RMLoad <CLIcon$Dir>.Modules.CLIconFS
Set CLIconFS$Path <CLIcon$Dir>.FS.
RMEnsure ErrTrap 0 RMLoad <CLIcon$Dir>.Modules.ErrTrap

IconSprites <CLIcon$Dir>.!Sprites
IconSprites <CLIcon$Dir>.Sprites

Set File$Type_10F CLIcon
Set Alias$@RunType_10F Run CLIconFS:RunCLIcon %%*0

WimpSlot -min 32k -max 32k

<CLIcon$Dir>.!RunImage %*0
