Before next release:
====================

Save cavern log from aven

Definitely still to do before Survex 1.2:
=========================================

Consider using "legend" instead of "info box"...

Reword "Shift Survey Left", etc?

Look at rewording extend.sgml (AndyA comments)

message.c should use GetUserDefaultUILanguage() on WinMe/Windows2000 or later
to find language id.

If some surveys have no date info and all others have the same date we
currently turn off date colouring, which isn't ideal...

Update translations.

Lots of aven things need documenting.

Update innosetup to newer version.

Does anyone use Controls->"Reverse Sense"?  It made some sense with caverot
but now seeing the mouse pointer makes people expect the default motions...

Merge Martin's patch for improved here/there update.  Mostly done but here's
follow up from looking over the latest version with Martin:
- transition plan/elev doesn't highlight station if we end up on one (ditto
  any other movement)
- setting here with mouseover in GfxCore should probably highlight in tree
  view (but not expand to do so)
- click to centre on GfxCore should perhaps move mouse to centre too (see how
  it feels!)
- should we show coords of there when here isn't a station?
- should we show distances when here isn't a station (X,Y in plan; Z in elev)

Sort out mouse actions

Clean up export.cc and allow scale, line width, etc to be specified

Output from cavern doesn't appear in aven's window until run has finished
if we start aven with a .svx file, but works fine if we load a .svx file
into an already running aven...

Would cavern output be better inside the main aven frame rather than as a
separate window?

LRUD in Aven Export

Better handling of missing LRUD values

Move gl* calls out of gfxcore.cc into gla-gl.cc!

"New Presentation" should probably ensure sidepanel is open and on presentation
tab.  Smooth wrinkles in presentation code (Add "stop", stop pres on Open or
New, changing focus on listctrl as presentation plays doesn't really work
properly)

Fix depth clipping on grid

Draw the measuring line directly onto the front buffer, so we can remove it
with a copy from the back buffer and redraw it in the new position without a
re-render.

Round the measuring line coords so the ring is a nice shape?  Or just antialias
the ring, "there" blob and line?

Process all pending input before rerendering to improve responsiveness.

Check timing code - we need to glFinish to ensure it's all drawn, and that
may be needed to get meaningful timing info.

3d format:

* sort out XSECT - I'm sure I meant there to be 1 and 2 byte forms, not 2 and 4
- 4 byte is only useful if a passage dimension is > 327.67m!

* add "this is an extended elevation" flag

* store "file processed on" date as a time_t rather than a string?

* store survey error values for each leg

* store equated stations in some way

* store legs by end stations rather than repeating coordinates over and over?

Add "colour by error" and maybe "colour by survey".

Implement "Skip blank pages" in aven printing

Maybe some of these too:
========================

Terrain data

different keyboard layouts mean that some key choices don't make much sense...

*data chamber ...

Easy way to "print extended elevation"

Unix full screen mode needs to allow dialogs to appear over the window
(e.g. try Ctrl+O while in full screen mode).  I've added a tweak to drop out
of it before showing dialog and return after, but this isn't ideal.
It would be best of all if wx got this right...

Measuring line turning itself on can be annoying - rethink how this works a
bit perhaps?

Right-click menus for indicators?

Optional lazy label redraw during drags?  Or turn on at some redraw time
threshold...

---

TODO entries which aren't likely to be done for 1.0.x:

Warn bearings not 3 digits, gradient not <sign><digit><digit>

Allow angles as deg/min/sec (for theodolite data) (060°10'15" as 060 10 15,
or 060.1005 (crap notation))

Add support for bearings of form N20E (ie [NS][0-9]+[EW])?

should % after a clino reading work?

cavern: auto declination?

Sort out gross error detection code

Fixing a point by triangulation?

Theodolite + level:
  delta(bearing (relative to 0 at start)
  delta(horizontal)
  delta(vertical) / maybe "clino" instead

Theodolite only:
  delta(bearing (relative to 0 at start)
  delta(horizontal)
  infinite sd for z

Infinite sds so we can fix in x and y only (or z only)?

use more accuracy than nearest point (1/72") in printps?

funcs to spot differences between caves:
  display two plots at once, maybe flash in ram banks?
  compare nets

Label lengths aren't considered when working out image size in prcore.c,
so a long label can spill off the edge of the printout

For warnings such as "Suspicious compass reading", report the reading
in question in the error message (in the text form given in the file).
Also report values when warning about problems with processed readings.

legs: implied: inloop/plumb/nosurvey, diving, other styles

legs: "dubious" for "tapeless" legs - bearing along continuation...

legs: hydrology - fossil/active/not recorded/static water/underwater
(sump) [diving underwater by default? except style can mean altimeter
too...]

legs: floor type - mud/sand/breakdown/flowstone/etc and can then used
LRUD to draw crude survey...

legs: "commented out" flag?  syntax check data but otherwise ignore

station flags: "important" - e.g. top camp "fixed" point /
junction,deadend (implied by order) /
articulation pt (know for nodes I think a station is if at least one
of its nodes is)

Allow valid range for an instrument to be specified.  Tie in with
*instrument.  *units date - ranges for dates - e.g. "1990-" or
"jun-aug"...

Maybe station lists should know how long they are?

cope with any combination of readings which gives enough info ???

Articulation point code: ideally the articulation point code should allow
further network reductions to happen after splitting at articulation
points?

leg and station "comments":

*data stationdata station left right up down comment

1 1.0 - 50+ 0.5 "large cairn"

2 ...

*data normal station l r u d comment newline tape compass clino

1 1.0 - 50+ 0.5 "large cairn"

  10.78 123 -03

2 ...

comment can be omitted "-" or not present if at end of line...?
commentall?

GPS support (e.g. export survey as GPS coords)

print to an image file (use gd? or wxwindows...)

Allow covariances to be specified in cartesian style?

back bearings?

*fix with datums etc

Aven:

grid on printouts
grid crosses option (only draw cross at intersections, not a full grid).
[(x,y) of a point to go through (easting, northing)
x spacing, y spacing (default to x spacing)
orientation (bearing of y-axis?) (defaults to 0)]

Mark: "surface.png is for a textured landscape -- there needs to be a
menu option to select the texturing on/off, and this should be the
texture used. map.png is just a different surface overlay for Loser."

Profile aven further (for both speed and memory usage)

by default put crosses on those points with no legs attached (unused
fixed points)?

label junctions/dead ends?

section colouring/selective labelling

clipping - want to select a clip sphere (or maybe cube) centred on
centre on rotation I think.

colour by cave (and more generally by sub-prefix):
maybe "aven --survey 161 --colour-by-sub-prefix all.3d" would result in
lhroute, rhroute, adrian, etc all getting different colours...

Some way to display all the names of an equated station (e.g. in pop-up
window or the info panel).

Highlight a whole survey by clicking on it in the tree...
