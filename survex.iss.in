[Setup]
AppName=@PRETTYPACKAGE@
AppVerName=@PRETTYPACKAGE@ @VERSION@
DefaultDirName={pf}\@PACKAGE@
DefaultGroupName=@PRETTYPACKAGE@
OutputBaseFilename=@PACKAGE@-win32-@VERSION@
AlwaysCreateUninstallIcon=yes
AppPublisher=The Survex Project
AppPublisherURL=http://www.survex.com/
AppVersion=@VERSION@
ChangesAssociations=yes
LicenseFile=COPYING.txt
Uninstallable=yes
AppCopyright=@COPYRIGHT_MSG@
; WizardImageFile=survey.bmp
[Dirs]
Name: "{app}\help"

[Files]
Source: "*.exe"; DestDir: "{app}"
Source: "*.msg"; DestDir: "{app}"
Source: "*.txt"; DestDir: "{app}"
Source: "*.bit"; DestDir: "{app}"
Source: "*.ini"; DestDir: "{app}"
Source: "*.svx"; DestDir: "{app}"
Source: "*.ico"; DestDir: "{app}"
Source: "*.htm"; DestDir: "{app}"
Source: "*.png"; DestDir: "{app}"
Source: "help\*.*"; DestDir: "{app}\help"

[Icons]
Name: "{group}\Aven"; Filename: "{app}\aven.exe"; Comment: "View processed surveys"
Name: "{group}\Survex Help"; Filename: "{app}\docindex.htm"; Comment: "View the documentation for survex"
Name: "{group}\News"; Filename: "{app}\NEWS.txt"; Comment: "View the help files for survex"

[Registry]
Root: HKCR; Subkey: ".svx"; ValueType: string; ValueData: "survex.source"
Root: HKCR; Subkey: ".3d"; ValueType: string; ValueData: "survex.bin"
Root: HKCR; Subkey: ".err"; ValueType: string; ValueData: "survex.error"
Root: HKCR; Subkey: "survex.source"; ValueType: string; ValueData: "Survex"
Root: HKCR; Subkey: "survex.source\DefaultIcon"; ValueType: string; ValueData: "{app}\survex.ico"
Root: HKCR; Subkey: "survex.source\shell"; ValueType: string; ValueData: "Process"
Root: HKCR; Subkey: "survex.source\shell\Process\command"; ValueType: string; ValueData: """{app}\cavern.exe"" --pause -o ""%1"" ""%1"""
Root: HKCR; Subkey: "survex.source\shell"; ValueType: string; ValueData: "Open"
Root: HKCR; Subkey: "survex.source\shell\Open\command"; ValueType: string; ValueData: """notepad.exe"" ""%1"""
Root: HKCR; Subkey: "survex.bin"; ValueType: string; ValueData: "Survex"
Root: HKCR; Subkey: "survex.bin\DefaultIcon"; ValueType: string; ValueData:"{app}\3d.ico"
Root: HKCR; Subkey: "survex.bin\shell"; ValueType: string; ValueData: "Open"
Root: HKCR; Subkey: "survex.bin\shell\Open\command"; ValueType: string; ValueData: """{app}\aven.exe"" ""%1"""
Root: HKCR; Subkey: "survex.bin\shell"; ValueType: string; ValueData: "Print"
Root: HKCR; Subkey: "survex.bin\shell\Print\command"; ValueType: string; ValueData: """{app}\printwin.exe"" ""%1"""
Root: HKCR; Subkey: "survex.bin\shell"; ValueType: string; ValueData: "Extend"
Root: HKCR; Subkey: "survex.bin\shell\Extend\command"; ValueType: string; ValueData: """{app}\extend.exe"" ""%1"""
Root: HKCR; Subkey: "survex.bin\shell"; ValueType: string; ValueData: "Convert to DXF"
Root: HKCR; Subkey: "survex.bin\shell\Convert to DXF\command"; ValueType: string; ValueData: """{app}\cad3d.exe"" --dxf ""%1"""
Root: HKCR; Subkey: "survex.bin\shell"; ValueType: string; ValueData: "Convert for hand plotting"
Root: HKCR; Subkey: "survex.bin\shell\Convert for hand plotting\command"; ValueType: string; ValueData: """{app}\3dtopos.exe"" ""%1"""
Root: HKCR; Subkey: "survex.error"; ValueType: string; ValueData: "Survex"
; Root: HKCR; Subkey: "survex.error\DefaultIcon"; ValueType: string; ValueData: "{app}\survex.ico"
Root: HKCR; Subkey: "survex.error\shell"; ValueType: string; ValueData: "Open"
Root: HKCR; Subkey: "survex.error\shell\Open\command"; ValueType: string; ValueData: """notepad.exe"" ""%1"""
Root: HKCR; Subkey: "survex.error\shell"; ValueType: string; ValueData: "Sort by Error"
Root: HKCR; Subkey: "survex.error\shell\Sort by Error\command"; ValueType: string; ValueData: """{app}\sorterr.exe"" ""%1"" | more"
Root: HKCR; Subkey: "survex.error\shell"; ValueType: string; ValueData: "Sort by Horizontal Error"
Root: HKCR; Subkey: "survex.error\shell\Sort by Horizontal Error\command"; ValueType: string; ValueData: """{app}\sorterr.exe"" -h ""%1"" | more"
Root: HKCR; Subkey: "survex.error\shell"; ValueType: string; ValueData: "Sort by Vertical Error"
Root: HKCR; Subkey: "survex.error\shell\Sort by Vertical Error\command"; ValueType: string; ValueData: """{app}\sorterr.exe"" -v ""%1"" | more"
Root: HKCR; Subkey: "survex.error\shell"; ValueType: string; ValueData: "Sort by Percentage Error"
Root: HKCR; Subkey: "survex.error\shell\Sort by Percentage Error\command"; ValueType: string; ValueData: """{app}\sorterr.exe"" -p ""%1"" | more"
Root: HKCR; Subkey: "survex.error\shell"; ValueType: string; ValueData: "Sort by Error per Leg"
Root: HKCR; Subkey: "survex.error\shell\Sort by Error per Leg\command"; ValueType: string; ValueData: """{app}\sorterr.exe"" -l ""%1"" | more"
