Date: 21 Jul 1999
From: Olly

Articulation point code: ideally the articulation point code should allow
further network reductions to happen after splitting at articulation
points?

Date: 24 Feb 2000
From: Wookey

[lsm entry]
If you have an auto-update scheme for the webpages when you do a release,
then get it update this template and mail it to lsm@execpc.com (with
the subject 'add' (even for updates)) would ensure things were kept up
to date.

Date: 05 Aug 2000
From: Olly

Sort out gross error detection code

Date: Fri, 18 Aug 2000
From: Olly

aven grid code -> printer drivers, caverot, and xcaverot too.
grid crosses option (only draw cross at intersections, not a full grid).
[(x,y) of a point to go through (easting, northing)
x spacing, y spacing (default to x spacing)
orientation (bearing of y-axis?) (defaults to 0)]

Date: Fri, 18 Aug 2000
From: Olly

Clean up the sample data and start including it again.

Date: Fri, 16 Feb 2001
From: Olly

Don't split other traverses at articulating traverses when reporting error
stats.

Date: Sat, 03 Mar 2001
From: Olly

cavern: auto declination?

update translations

chase up zombies again?

resolve entries in TODO; resolve FIXMEs in code

test diving data with compass omitted (plumbed)

use "highest" title

Warn bearings not 3 digits, gradient not <sign><digit><digit>

Allow angles as deg/min/sec (for theodolite data) (060°10'15" as 060 10 15,
or 060.1005 (crap notation))

Add support for bearings of form N20E (ie [NS][0-9]+[EW])?

should % after a clino reading work?

add to UNITS: percentage, lengthoutput, angleoutput ?

error and warning log for survex?

Fixing a point by triangulation?

Theodolite + level:
  delta(bearing (relative to 0 at start)
  delta(horizontal)
  delta(vertical) / maybe "clino" instead

Theodolite only:
  delta(bearing (relative to 0 at start)
  delta(horizontal)
  infinite sd for z

Infinite sds so we can fix in x and y only (or z only)?

add *data to hto to allow it to cope with different data ordering?

use more accuracy than nearest point (1/72") in printps?

funcs to spot differences between caves:
  display two plots at once, maybe flash in ram banks?
  compare nets

? make printps & printhpgl one program; make printdm and printpcl one
program - autosense (by looking at argv[0]) which we're being run as
(and use symbolic link in Unix). Provide command line option as
override (so we can use alias/batchfile for DOS)?

get DOS programs to abort on Ctrl-C reliably?

Label lengths aren't considered when working out image size in prcore.c,
so a long label can spill off the edge of the printout

"message.c" add option to read errors from disc only when needed, to help
when memory is tight

printer driver name spills over one page on Wookey's printer (printdm)

Tests these commands:
 DATA FIX (with sds) FLAGS INFER LRUD (deprecated) SD SET TITLE

If there are errors, existing .pos and .inf files aren't removed, but
existing .3d and .err files are...

Default variance for topofil counter? (currently same as that of tape)

For warnings such as "Suspicious compass reading", report the reading
in question in the error message (in the text form given in the file).
Also report values when warning about problems with processed readings.

complain about *export-ing or *entrance-ing fictional stations

?outlaw prefixes on stations in data legs (as Todd has lobbied for)
and then the prefix of a leg == prefix of each end...?

'Writing out 3d image file all.3d'... - but may get deleted if errors...

Date: Tue, 01 May 2001
Subject: caverot/xcaverot/aven ideas
From: Wookey, Olly

?by default put crosses on those points with no legs attached (unused
fixed points)?

click on station to centre; type in station to centre

improve 3d torture test and try to automate its use if possible.

label junctions/dead ends

colour by traverse

section colouring/selective labelling

clipping - want to select a clip sphere (or maybe cube) centred on
centre on rotation I think.

printout of current view...

shift-ed keys should move faster (as they do in caverot)

Middle button drag should "resist" at elevation (i.e. angle == 0)...

sort out wrap-around a highish zoom (caverot is OK)

colour by cave (and more generally by sub-prefix):
"caverot --prefix \161 --colour-by-sub-prefix all.3d" would result in
lhroute, rhroute, adrian, etc all getting different colours...

centre on only legs???

aven on monochrome displays - check depth colouring looks ok.

aven: redraw time should feed back to step size (so small caves on
fast puters look sane, and so autorotate keeps an even speed when
little can be seen for part of each rotation).

aven/caverot/xcaverot: if all points share a common prefix then
default to hiding it - store in .3d file differently?

Date: Fri, 04 May 2001
Subject: xcaverot
From: Olly

xcaverot missing:, ^A (lazy redraw during drags), ^R (reverse sense of
controls), escape vs q...

switch_to_(plan|elevation) in xcaverot should animate but code is just
broken.

?try using labels.c in xcaverot to see if XRegions are better or not?

Date: Fri, 04 May 2001
Subject: caverot
From: Olly

extract help screen from caverot.c for translation

caverot help page needs fettling so that it appears centrally (and indeed
so that it all fits on the screen in chunky CGA modes) [BC fns to look at:
textheight("W"), textwidth(), settextstyle()]

caverot: on RISC OS now fall back to using 2 or even just one screen
bank if we can't find a mode where we can create 3 banks [FIXME: need
to test this works]

Check that --mode-picker works on DJGPP caverot.

Date: Fri, 04 May 2001
Subject: manual
From: Olly

doc/svxdocs.sgml has version number (0.98 currently) hardcoded.

Date: Sat, 16 Jun 2001
Subject: flags
From: Olly

station flags: "important" - e.g. top camp "fixed" point / entrance
(could be inferred from surface/ug join, but better to specify because
of caves with no surf svy and also situations in which multiple
surveys leave an entrance) / junction,deadend (implied by order) /
articulation pt (know for nodes I think a station is if at least one
of its nodes is)

flag legs as "skeletal" or something? (i.e. not in the cave passage) -
e.g. a radiolocation leg isn't surface, but it isn't in the cave
itself either.  You could just call it surface though...

legs: implied: inloop/plumb/nosurvey, diving, other styles

legs: "dubious" for "tapeless" legs - bearing along continuation...

legs: hydrology - fossil/active/not recorded/static water/underwater
(sump) [diving uderw by default? except style can mean altimeter
too...]

legs: floor type - mud/sand/breakdown/flowstone/etc and can then used
LRUD to draw crude survey...

legs: "commented out" flag?  syntax check data but otherwise ignore

Date: Wed, 20 Jun 2001
From: Olly

Is this report wrong (2 nodes, 1 leg, and 2 1-nodes)

*fix 1 0 0 0
*fix 2 0 0 0
*equate 1 2

This is certainly wrong (2 legs, 1 1-node, and 1 2-node):

*fix 1 0 0 0 10
1 2 1 0 0
*fix 2 1 1 1

Date: Mon, 25 Jun 2001
From: Olly

quotes in messages - translate too?

Date: Mon, 25 Jun 2001
From: Olly

check return values from fgets(), fread(), etc in img.c and elsewhere.

Date: Mon, 02 Jul 2001
From: Olly

Allow valid range for an instrument to be specified.  Tie in with
*instrument.  *units date - ranges for dates - e.g. "1990-" or
"jun-aug"...

Date: Wed, 04 Jul 2001
From: Olly

check skip blank pages works on printer drivers (notably printpcl)

Check LC_CTYPE for charset?

extract --help messages for translation.

prog --help and --version ought to work (perhaps both just do --version)
even if messages can't be found.

check line numbers with interleaved data (seem to be one too low).

Maybe station lists should know how long they are?

What about a better collating order for stations?  But rather than
doing this in cavern, it's probably better to do it as a sort before
presentation...  Here's a first stab at some code:
/* We ideally want a collating order where "2" sorts before "10"
 * (and "10a" sorts between "10" and "11").
 * So we want an compare cmp(A,B) s.t.
 * 1) cmp(A,A) = 0
 * 2) cmp(A,B) < 0 iff cmp(B,A) > 0
 * 3) cmp(A,B) > 0 and cmp(B,C) > 0 => cmp(A,C) > 0
 * 4) cmp(A,B) = 0 iff strcmp(A,B) = 0 (e.g. "001" and "1" are not equal)
 */
/* FIXME: is this ordering OK? */
/* Would also be nice if "xxx2" sorted before "xxx10"... */
int
ident_cmp(const char *a, const char *b)
{
   if (isdigit(a[0])) {
      int i;
      if (!isdigit(b[0])) return -1;
      /* FIXME: check errno, etc in case out of range */
      i = strtoul(a, NULL, 10);
      i -= strtoul(b, NULL, 10);
      if (i) return i;
   } else if (isdigit(b[0])) {
      return 1;
   }
   return strcmp(a,b);
}

check borlandc version to see if bios_keybrd is better or worse...

translate diffpos, sorterr, etc

tests for direction - should direction work in non-interleaved data?

finish implementing covariances in a few places - grep for FIXCOV.

get Phil to fix where it says PHILU...

cylpolar style? Dr, Comp, Dz

back bearings?

cope with any combination of readings which gives enough info ???

one page HTML manual

