<HTML><HEAD>
<TITLE>Survex Hacker's Guide</TITLE>
<STYLE type="text/css"><!--
BODY, TD, CENTER, UL, OL {font-family: sans-serif;}
-->
</STYLE>
</HEAD><BODY BGCOLOR=white TEXT=black>
<H1>Hacking Survex</H1>

<p>(That's hacking in the "tinkering with code" sense, not in the
"breaking into other people's computer systems" sense).

<p>This is currently a random collection of notes that need to be written
down while I remember.  With time it should evolve into a more
coherent document.  If you have any questions which this should answer
but doesn't then ask me and I'll add them.

<H2>Network code debugging</H2>

<P>You can pick which network simplifications are attempted using "-z"
with an argument listing code letters.  So:

<ul>
<li>-z=    no special simplifications (articulation still performed)
<li>-z=l   remove "lollipops"
<li>-z=p   remove parallel legs
<li>-z=d   convert deltas to stars
</ul>

<P>And you can combine these in any combination:

<ul>
<li>-z=lp  remove "lollipops" and parallel legs
<li>-z=lpd remove "lollipops" and parallel legs; convert deltas to stars
</ul>

<P>"-z=lpd" is the default (in 0.99 at least - more transformations may
conceivably be added in future, although the simple common cases are
already covered).

<H2>Developing on Unix Platforms</H2>

<P>You'll need automake 1.5 or later (earlier versions don't support
per-executable CFLAGS; 1.6 has been tested and works, but wasn't a
very stable release - automake 1.6.1 is a better bet)
and autoconf 2.50 or later (autoconf 2.52 and 2.53 have
both been used successfully).

<P>For building the documentation you'll need sgmltools 2 or later,
docbook-to-man, and w3m.

<H2>Building on Non-Unix Platforms</H2>

<H3>Mingw (Microsoft Windows)</H3>

<P>Currently I build this with a Linux hosted cross-compiler.  I use
the packaged cross-compiler in the debian testing/unstable distribution.
You can probably install these on other distributions using alien to
convert them to RPMs or similar.  Alternatively, before that
I used to use pre-built binaries for gcc 2.95.2 obtained from:

<P><A HREF="http://www.libsdl.org/extras/win32/cross/"
>http://www.libsdl.org/extras/win32/cross/</A>

<P>Building on Windows in a native mingw environment will probably
require tinkering.  Best bet is probably to install bash and use the
current configure script.  I'm happy to help if you want to try this,
and I'll incorporate patches provided they're fairly clean.

<P>Building on Windows with MSVC/BorlandC/Watcom/... is likely to be more
work, but could be a worthwhile project.  I'd suggest patching the
perl script miniam.pl to generate a suitable makefile.  Again, send
patches if you get this to work.

</BODY></HTML>
